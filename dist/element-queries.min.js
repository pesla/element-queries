/**
 * Performance friendly element resize detection (using scroll events)
 *
 * @see ()
 * @author Peter Slagter
 * @copyright MIT ()
 */
define(function(){var i=document.attachEvent;if(i){return{addListener:b,removeListener:g}}var j={};var n={};d();function d(){j=c();if(!window.requestAnimationFrame||!window.cancelAnimationFrame){h()}e()}function b(q,r){if(i){q.attachEvent("onresize",function(){r.call(q)});return}var p=q.id;if(!p){f("error","Element has been passed to addListener but hasnt been identified yet.");return}if(!n[p]){m(q,r)}}function g(q,r){if(i){q.detachEvent("onresize",r);return}var p=n[q.id];if(p){q.removeEventListener("scroll",l);q.removeChild(p.triggerElements.container);delete p}}function e(){var p=[(j.keyframesRule)?j.keyframesRule:"",".resize-triggers { "+((j.styleDeclaration)?j.styleDeclaration:"")+" visibility: hidden; opacity: 0; }",'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',];p=p.join(" ");var q=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css";if(r.styleSheet){r.styleSheet.cssText=p}else{r.appendChild(document.createTextNode(p))}q.appendChild(r)}function m(s,v){var p=k(s,"position");if(p==="static"){s.style.position="relative"}var q=document.createElement("div"),u=document.createElement("div"),t=document.createElement("div"),r=document.createElement("div");q.className="resize-triggers";u.className="expand-trigger";r.className="contract-trigger";u.appendChild(t);q.appendChild(u);q.appendChild(r);s.appendChild(q);n[s.id]={targetElement:s,resizeLast:{},callbackFunction:v,triggerElements:{container:q,expand:u,expandChild:t,contract:r},resizeRAF:null};s.addEventListener("scroll",l,true);if(j.isSupported){q.addEventListener(j.animationStartEvent,function(w){if(w.animationName===j.animationName){o(s)}})}}function l(){var q=this,p=n[q.id];o(q);if(p.resizeRAF){window.cancelAnimationFrame(p.resizeRAF)}p.resizeRAF=window.requestAnimationFrame(function(){var r=a(q),s=p.resizeLast;if(r.width!=s.width||r.height!=s.height){s.width=r.width;s.height=r.height;p.callbackFunction.call(q,r.width,r.height)}})}function o(q){var p=q.id,r=n[p].triggerElements.expand,s=n[p].triggerElements.contract,t=n[p].triggerElements.expandChild;s.scrollLeft=s.scrollWidth;s.scrollTop=s.scrollHeight;t.style.width=r.offsetWidth+1+"px";t.style.height=r.offsetHeight+1+"px";r.scrollLeft=r.scrollWidth;r.scrollTop=r.scrollHeight}function a(p){return{width:p.offsetWidth,height:p.offsetHeight}}function h(){if(!window.requestAnimationFrame){window.requestAnimationFrame=(function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(p,1000/60)}})()}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=(function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout})()}}function c(){var q=false,p="",u="animationstart",w="Webkit Moz O ms".split(" "),x="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" ");var v=document.createElement("div");if(v.style.animationName!==undefined){q=true}if(q===false){var s=0,r=w.length;for(;s<r;s++){if(v.style[w[s]+"AnimationName"]!==undefined){p="-"+w[s].toLowerCase()+"-";u=x[s];q=true;break}}}if(!q){return{isSupported:false}}var t="resizeanim";return{isSupported:q,keyframesRule:"@"+p+"keyframes "+t+" {from { opacity: 0; } to { opacity: 0; }}",styleDeclaration:p+"animation: 1ms "+t+";",animationStartEvent:u,animationName:t}}function f(p,q){if(console){console[p](q)}}function k(p,r){var q=null;if(p.currentStyle){q=p.currentStyle[r]}else{if(window.getComputedStyle){q=document.defaultView.getComputedStyle(p,null).getPropertyValue(r)}}return q}return{addListener:b,removeListener:g}});

/**
 * Element Queries is a tiny library that adds support for element based media-queries to all new browsers (incl. IE7+).
 *
 * @see ()
 * @author Peter Slagter
 * @copyright MIT ()
 */
require(["domReady","vendor/element-queries/detect-resize"],function(e,j){var m=[];var n=[];var g={};e(p);function p(){if(!j){i("error","ElementQueryElements need some sort of element resize detection. `ResizeDetection` seems to be unavailable.");return}if(typeof document.querySelectorAll!=="function"){l()}if(typeof String.prototype.trim!=="function"){k()}var v=0,r=document.styleSheets.length;for(;v<r;v++){try{var u=q(document.styleSheets[v].cssText||document.styleSheets[v].cssRules||document.styleSheets[v].rules);if(u.length>0){m=m.concat(u)}}catch(w){i("error","Unable to read from file: "+document.styleSheets[v].href)}}if(m.length<1){i("info","No selectors found to initialize.");return}h();c();for(var t in g){if(!g.hasOwnProperty(t)){continue}var s=g[t].element;g[t].callback.call(s)}}function q(v,s){if(v===null){return[]}if("string"===typeof v){var r=v.toLowerCase();if(d(r)){return[r]}return[]}if(!s){var s=[]}var u=0,t=v.length;for(;u<t;u++){if(v[u].type===1){r=v[u].selectorText||v[u].cssText;if(d(r)){s.push(r)}}else{if(4===v[u].type){q(v[u].cssRules||v[u].rules,s)}}}return s}function h(){var u=0,t=m.length;for(;u<t;u++){var r=m[u],w=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/mgi,s;r=r.replace(/'/g,'"');while((s=w.exec(r))!==null){if(s.length>5){var v=s[1].trim();if(s[5]!==""){v=s[5].trim()}n.push([v,s[2],s[3],s[4]]);continue}i("info","Didnt find all necessary parts for selector "+r);i("info",s)}}}function c(){var v=0,s=n.length;for(;v<s;v++){var C=n[v],t=C[0];try{var r=document.querySelectorAll(t);if(!r||r.length<1){i("info","No elements found for selector "+t);continue}var B=0,A=r.length;for(;B<A;B++){var w=r[B],u=o(w);if(!g[u]){g[u]=new f(w);j.addListener(w,g[u].callback)}g[u].addElementQuery({mode:C[1],property:C[2],value:C[3]})}}catch(x){i("error","Unable to perform querySelectorAll for selector: "+t)}}}function f(r){this.element=r;this.queries=[];this.addElementQuery=function(s){this.queries.push(s)};this.callback=function(s,t){var y=this;var v=b(y.id);if(v===null){i("error","There is no instance of ElementQueryElement for element id "+y.id);return}var w=v.queries.length,E={};s=s||y.offsetWidth;t=t||y.offsetHeight;for(var z=0;z<w;z++){var C=v.queries[z],x=(C.property==="width")?s:t,B=C.mode+"-"+C.property,D=parseFloat(C.value),A="";if(C.mode==="min"&&x>=D){A=C.value}if(C.mode==="max"&&x<=D){A=C.value}if(A){if(!E[B]){E[B]=[]}E[B].push(A)}}var u=["min-width","min-height","max-width","max-height"];z=0;w=u.length;for(;z<w;z++){if(E[u[z]]){y.setAttribute(u[z],E[u[z]].join(" "));continue}y.removeAttribute(u[z])}}}function l(){var r=document.createStyleSheet();document.querySelectorAll=function(s){s=s.replace(/\[for\b/gi,"[htmlFor").split(",");var v=[],w=document.all;for(var u=s.length;u--;){r.addRule(s[u],"k:v");for(var t=w.length;t--;){w[t].currentStyle.k&&v.push(w[t])}r.removeRule(0)}return v}}function k(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}function d(r){return(r.indexOf("min-height")!==-1||r.indexOf("max-height")!==-1||r.indexOf("min-width")!==-1||r.indexOf("max-width")!==-1)}function o(r){var t=r.id;if(t){return t}var s="element-query-element-";t=s+a(g);r.id=t;return t}function b(r){if(!g[r]){return null}return g[r]}function a(r){if(!Object.keys){Object.keys=function(u){var s=[],t;for(t in u){if(u.hasOwnProperty(t)){s.push(t)}}return s}}return Object.keys(r).length}function i(r,s){if(console){console[r](s)}}});