!function(e,t){"undefined"!=typeof module?module.exports=t():"function"==typeof define&&"object"==typeof define.amd?define("domready",t):this[e]=t()}("domready",function(e){function t(e){for(f=1;e=i.shift();)e()}var n,i=[],r=!1,o=document,a=o.documentElement,l=a.doScroll,s="DOMContentLoaded",c="addEventListener",d="onreadystatechange",u="readyState",m=l?/^loaded|^c/:/^loaded|c/,f=m.test(o[u]);return o[c]&&o[c](s,n=function(){o.removeEventListener(s,n,r),t()},r),l&&o.attachEvent(d,n=function(){/^c/.test(o[u])&&(o.detachEvent(d,n),t())}),e=l?function(t){self!=top?f?t():i.push(t):function(){try{a.doScroll("left")}catch(n){return setTimeout(function(){e(t)},50)}t()}()}:function(e){f?e():i.push(e)}}),define("detect-resize",[],function(){"use strict";function e(){f=c(),window.requestAnimationFrame&&window.cancelAnimationFrame||s(),i()}function t(e,t){if(m)return void e.attachEvent("onresize",function(){t.call(e)});var n=e.id;return n?void(h[n]||r(e,t)):void d("error","Element has been passed to addListener but hasnt been identified yet.")}function n(e,t){if(m)return void e.detachEvent("onresize",t);var n=h[e.id];n&&(e.removeEventListener("scroll",o),e.removeChild(n.triggerElements.container),delete h[e.id])}function i(){var e=[f.keyframesRule?f.keyframesRule:"",".resize-triggers { "+(f.styleDeclaration?f.styleDeclaration:"")+" visibility: hidden; opacity: 0; }",'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }'];e=e.join(" ");var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}function r(e,t){var n=u(e,"position");"static"===n&&(e.style.position="relative");var i=document.createElement("div"),r=document.createElement("div"),l=document.createElement("div"),s=document.createElement("div");i.className="resize-triggers",r.className="expand-trigger",s.className="contract-trigger",r.appendChild(l),i.appendChild(r),i.appendChild(s),e.appendChild(i),h[e.id]={targetElement:e,resizeLast:{},callbackFunction:t,triggerElements:{container:i,expand:r,expandChild:l,contract:s},resizeRAF:null},e.addEventListener("scroll",o,!0),f.isSupported&&i.addEventListener(f.animationStartEvent,function(t){t.animationName===f.animationName&&a(e)})}function o(){var e=this,t=h[e.id];a(e),t.resizeRAF&&window.cancelAnimationFrame(t.resizeRAF),t.resizeRAF=window.requestAnimationFrame(function(){var n=l(e),i=t.resizeLast;(n.width!=i.width||n.height!=i.height)&&(i.width=n.width,i.height=n.height,t.callbackFunction.call(e,n.width,n.height))})}function a(e){var t=e.id,n=h[t].triggerElements.expand,i=h[t].triggerElements.contract,r=h[t].triggerElements.expandChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function l(e){return{width:e.offsetWidth,height:e.offsetHeight}}function s(){window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout}())}function c(){var e=!1,t="",n="animationstart",i="Webkit Moz O ms".split(" "),r="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),o=document.createElement("div");if(void 0!==o.style.animationName&&(e=!0),e===!1)for(var a=0,l=i.length;l>a;a++)if(void 0!==o.style[i[a]+"AnimationName"]){t="-"+i[a].toLowerCase()+"-",n=r[a],e=!0;break}if(!e)return{isSupported:!1};var s="resizeanim";return{isSupported:e,keyframesRule:"@"+t+"keyframes "+s+" {from { opacity: 0; } to { opacity: 0; }}",styleDeclaration:t+"animation: 1ms "+s+";",animationStartEvent:n,animationName:s}}function d(e,t){console&&console[e](t)}function u(e,t){var n=null;return e.currentStyle?n=e.currentStyle[t]:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),n}var m=document.attachEvent;if(m)return{addListener:t,removeListener:n};var f={},h={};return e(),{addListener:t,removeListener:n}}),require(["domready","detect-resize"],function(e,t){"use strict";function n(){if(!t)return void f("error","ElementQueryElements need some sort of element resize detection. `ResizeDetection` seems to be unavailable.");"function"!=typeof document.querySelectorAll&&l(),"function"!=typeof String.prototype.trim&&s();for(var e=0,n=document.styleSheets.length;n>e;e++)try{var a=i(document.styleSheets[e].cssText||document.styleSheets[e].cssRules||document.styleSheets[e].rules);a.length>0&&(h=h.concat(a))}catch(c){f("error","Unable to read from file: "+document.styleSheets[e].href)}if(h.length<1)return void f("info","No selectors found to initialize.");r(),o();for(var d in p)if(p.hasOwnProperty(d)){var u=p[d].element;p[d].callback.call(u)}}function i(e,t){if(null===e)return[];if("string"==typeof e){var n=e.toLowerCase();return c(n)?[e]:[]}if(!t)var t=[];for(var r=0,o=e.length;o>r;r++)1===e[r].type?(n=e[r].selectorText||e[r].cssText,c(n)&&t.push(n)):4===e[r].type&&i(e[r].cssRules||e[r].rules,t);return t}function r(){for(var e=0,t=h.length;t>e;e++){var n,i=h[e],r=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/gim;for(i=i.replace(/'/g,'"');null!==(n=r.exec(i));)if(n.length>5){var o=n[1].trim();""!==n[5]&&(o=n[5].trim()),v.push([o,n[2],n[3],n[4]])}else f("info","Didnt find all necessary parts for selector "+i),f("info",n)}}function o(){for(var e=0,n=v.length;n>e;e++){var i=v[e],r=i[0];try{var o=document.querySelectorAll(r);if(!o||o.length<1){f("info","No elements found for selector "+r);continue}for(var l=0,s=o.length;s>l;l++){var c=o[l],u=d(c);p[u]||(p[u]=new a(c),t.addListener(c,p[u].callback)),p[u].addElementQuery({mode:i[1],property:i[2],value:i[3]})}}catch(m){f("error","Unable to perform querySelectorAll for selector: "+r)}}}function a(e){this.element=e,this.queries=[],this.addElementQuery=function(e){this.queries.push(e)},this.callback=function(e,t){var n=this,i=u(n.id);if(null===i)return void f("error","There is no instance of ElementQueryElement for element id "+n.id);var r=i.queries.length,o={};e=e||n.offsetWidth,t=t||n.offsetHeight;for(var a=0;r>a;a++){var l=i.queries[a],s="width"===l.property?e:t,c=l.mode+"-"+l.property,d=parseFloat(l.value),m="";if("min"===l.mode&&s>=d&&(m=l.value),"max"===l.mode&&d>=s&&(m=l.value),m){o[c]||(o[c]=[]);var h=o[c].join(" ");if(-1!==h.indexOf(m))continue;o[c].push(m)}}var v=["min-width","min-height","max-width","max-height"];for(a=0,r=v.length;r>a;a++)o[v[a]]?n.setAttribute(v[a],o[v[a]].join(" ")):n.removeAttribute(v[a])}}function l(){var e=document.createStyleSheet();document.querySelectorAll=function(t){t=t.replace(/\[for\b/gi,"[htmlFor").split(",");for(var n=[],i=document.all,r=t.length;r--;){e.addRule(t[r],"k:v");for(var o=i.length;o--;)i[o].currentStyle.k&&n.push(i[o]);e.removeRule(0)}return n}}function s(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}function c(e){return-1!==e.indexOf("min-height")||-1!==e.indexOf("max-height")||-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width")}function d(e){var t=e.id;if(t)return t;var n="element-query-element-";return t=n+m(p),e.id=t,t}function u(e){return p[e]?p[e]:null}function m(e){return Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}),Object.keys(e).length}function f(e,t){console&&console[e](t)}var h=[],v=[],p={};e(n)}),define("src/element-queries",function(){});
//# sourceMappingURL=element-queries.min.js.map