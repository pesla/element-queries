/**
 * Performance friendly element resize detection (using scroll events)
 *
 * @see (https://github.com/pesla/element-queries/blob/master/src/detect-resize.js)
 * @author Peter Slagter
 * @copyright MIT (https://github.com/pesla/element-queries/blob/master/LICENSE)
 * @preserve
 */
define(function(){"use strict";function a(){n=j(),window.requestAnimationFrame&&window.cancelAnimationFrame||i(),d()}function b(a,b){if(m)return void a.attachEvent("onresize",function(){b.call(a)});var c=a.id;return c?void(o[c]||e(a,b)):void k("error","Element has been passed to addListener but hasnt been identified yet.")}function c(a,b){if(m)return void a.detachEvent("onresize",b);var c=o[a.id];c&&(a.removeEventListener("scroll",f),a.removeChild(c.triggerElements.container),delete o[a.id])}function d(){var a=[n.keyframesRule?n.keyframesRule:"",".resize-triggers { "+(n.styleDeclaration?n.styleDeclaration:"")+" visibility: hidden; opacity: 0; }",'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }'];a=a.join(" ");var b=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css",c.styleSheet?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a)),b.appendChild(c)}function e(a,b){var c=l(a,"position");"static"===c&&(a.style.position="relative");var d=document.createElement("div"),e=document.createElement("div"),h=document.createElement("div"),i=document.createElement("div");d.className="resize-triggers",e.className="expand-trigger",i.className="contract-trigger",e.appendChild(h),d.appendChild(e),d.appendChild(i),a.appendChild(d),o[a.id]={targetElement:a,resizeLast:{},callbackFunction:b,triggerElements:{container:d,expand:e,expandChild:h,contract:i},resizeRAF:null},a.addEventListener("scroll",f,!0),n.isSupported&&d.addEventListener(n.animationStartEvent,function(b){b.animationName===n.animationName&&g(a)})}function f(){var a=this,b=o[a.id];g(a),b.resizeRAF&&window.cancelAnimationFrame(b.resizeRAF),b.resizeRAF=window.requestAnimationFrame(function(){var c=h(a),d=b.resizeLast;(c.width!=d.width||c.height!=d.height)&&(d.width=c.width,d.height=c.height,b.callbackFunction.call(a,c.width,c.height))})}function g(a){var b=a.id,c=o[b].triggerElements.expand,d=o[b].triggerElements.contract,e=o[b].triggerElements.expandChild;d.scrollLeft=d.scrollWidth,d.scrollTop=d.scrollHeight,e.style.width=c.offsetWidth+1+"px",e.style.height=c.offsetHeight+1+"px",c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight}function h(a){return{width:a.offsetWidth,height:a.offsetHeight}}function i(){window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout}())}function j(){var a=!1,b="",c="animationstart",d="Webkit Moz O ms".split(" "),e="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f=document.createElement("div");if(void 0!==f.style.animationName&&(a=!0),a===!1)for(var g=0,h=d.length;h>g;g++)if(void 0!==f.style[d[g]+"AnimationName"]){b="-"+d[g].toLowerCase()+"-",c=e[g],a=!0;break}if(!a)return{isSupported:!1};var i="resizeanim";return{isSupported:a,keyframesRule:"@"+b+"keyframes "+i+" {from { opacity: 0; } to { opacity: 0; }}",styleDeclaration:b+"animation: 1ms "+i+";",animationStartEvent:c,animationName:i}}function k(a,b){console&&console[a](b)}function l(a,b){var c=null;return a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=document.defaultView.getComputedStyle(a,null).getPropertyValue(b)),c}var m=document.attachEvent;if(m)return{addListener:b,removeListener:c};var n={},o={};return a(),{addListener:b,removeListener:c}}),/**
 * Element Queries is a tiny library that adds support for element based media-queries to all new browsers (incl. IE7+).
 *
 * @see (https://github.com/pesla/element-queries/blob/master/src/element-queries.js)
 * @author Peter Slagter
 * @copyright MIT (https://github.com/pesla/element-queries/blob/master/LICENSE)
 * @preserve
 */
require(["domReady"],function(a,b){"use strict";function c(){if(!b)return void n("error","ElementQueryElements need some sort of element resize detection. `ResizeDetection` seems to be unavailable.");"function"!=typeof document.querySelectorAll&&h(),"function"!=typeof String.prototype.trim&&i();for(var a=0,c=document.styleSheets.length;c>a;a++)try{var g=d(document.styleSheets[a].cssText||document.styleSheets[a].cssRules||document.styleSheets[a].rules);g.length>0&&(o=o.concat(g))}catch(j){n("error","Unable to read from file: "+document.styleSheets[a].href)}if(o.length<1)return void n("info","No selectors found to initialize.");e(),f();for(var k in q)if(q.hasOwnProperty(k)){var l=q[k].element;q[k].callback.call(l)}}function d(a,b){if(null===a)return[];if("string"==typeof a){var c=a.toLowerCase();return j(c)?[c]:[]}if(!b)var b=[];for(var e=0,f=a.length;f>e;e++)1===a[e].type?(c=a[e].selectorText||a[e].cssText,j(c)&&b.push(c)):4===a[e].type&&d(a[e].cssRules||a[e].rules,b);return b}function e(){for(var a=0,b=o.length;b>a;a++){var c,d=o[a],e=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/gim;for(d=d.replace(/'/g,'"');null!==(c=e.exec(d));)if(c.length>5){var f=c[1].trim();""!==c[5]&&(f=c[5].trim()),p.push([f,c[2],c[3],c[4]])}else n("info","Didnt find all necessary parts for selector "+d),n("info",c)}}function f(){for(var a=0,c=p.length;c>a;a++){var d=p[a],e=d[0];try{var f=document.querySelectorAll(e);if(!f||f.length<1){n("info","No elements found for selector "+e);continue}for(var h=0,i=f.length;i>h;h++){var j=f[h],l=k(j);q[l]||(q[l]=new g(j),b.addListener(j,q[l].callback)),q[l].addElementQuery({mode:d[1],property:d[2],value:d[3]})}}catch(m){n("error","Unable to perform querySelectorAll for selector: "+e)}}}function g(a){this.element=a,this.queries=[],this.addElementQuery=function(a){this.queries.push(a)},this.callback=function(a,b){var c=this,d=l(c.id);if(null===d)return void n("error","There is no instance of ElementQueryElement for element id "+c.id);var e=d.queries.length,f={};a=a||c.offsetWidth,b=b||c.offsetHeight;for(var g=0;e>g;g++){var h=d.queries[g],i="width"===h.property?a:b,j=h.mode+"-"+h.property,k=parseFloat(h.value),m="";"min"===h.mode&&i>=k&&(m=h.value),"max"===h.mode&&k>=i&&(m=h.value),m&&(f[j]||(f[j]=[]),f[j].push(m))}var o=["min-width","min-height","max-width","max-height"];for(g=0,e=o.length;e>g;g++)f[o[g]]?c.setAttribute(o[g],f[o[g]].join(" ")):c.removeAttribute(o[g])}}function h(){var a=document.createStyleSheet();document.querySelectorAll=function(b){b=b.replace(/\[for\b/gi,"[htmlFor").split(",");for(var c=[],d=document.all,e=b.length;e--;){a.addRule(b[e],"k:v");for(var f=d.length;f--;)d[f].currentStyle.k&&c.push(d[f]);a.removeRule(0)}return c}}function i(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}}function j(a){return-1!==a.indexOf("min-height")||-1!==a.indexOf("max-height")||-1!==a.indexOf("min-width")||-1!==a.indexOf("max-width")}function k(a){var b=a.id;if(b)return b;var c="element-query-element-";return b=c+m(q),a.id=b,b}function l(a){return q[a]?q[a]:null}function m(a){return Object.keys||(Object.keys=function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c}),Object.keys(a).length}function n(a,b){console&&console[a](b)}var o=[],p=[],q={};a(c)});
//# sourceMappingURL=element-queries.min.js.map