{"version":3,"file":"element-queries.min.js","sources":["vendor/domready/ready.js","src/detect-resize.js","src/element-queries.js"],"names":["name","definition","module","exports","define","amd","this","ready","flush","f","loaded","fns","shift","fn","doc","document","testEl","documentElement","hack","doScroll","domContentLoaded","addEventListener","onreadystatechange","readyState","loadedRgx","test","removeEventListener","attachEvent","detachEvent","self","top","push","e","setTimeout","setup","cssAnimationData","getCSSAnimationData","window","requestAnimationFrame","cancelAnimationFrame","setupRAF","createResizeSensorStyles","addListener","element","callback","call","elementId","id","elementQueryData","setupElementQueryElement","log","removeListener","queryData","handleOnElementScroll","removeChild","triggerElements","container","css","keyframesRule","styleDeclaration","join","headElem","head","getElementsByTagName","styleElem","createElement","type","styleSheet","cssText","appendChild","createTextNode","position","getStyle","style","resizeTrigger","expandTrigger","expandTriggerChild","contractTrigger","className","targetElement","resizeLast","callbackFunction","expand","expandChild","contract","resizeRAF","isSupported","animationStartEvent","event","animationName","resetTriggers","currentTriggerDimensions","getTriggerDimensions","width","height","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetWidth","offsetHeight","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","supportsAnimation","keyframePrefix","domPrefixes","split","startEvents","elm","undefined","i","l","length","toLowerCase","message","console","property","value","currentStyle","getComputedStyle","defaultView","getPropertyValue","domReady","ResizeDetection","ElementQueryElement","queries","addElementQuery","currentWidth","currentHeight","getElementQueryElementById","attrValues","query","currentValueForQuery","attrName","mode","parseFloat","attrValue","str","indexOf","allAttributes","setAttribute","removeAttribute","getElementQuerySelectors","rules","tmpSelectors","selector","isElementQuerySelector","j","selectorText","cssRules","polyfillQuerySelectorAll","createStyleSheet","querySelectorAll","replace","found","docAll","all","addRule","k","removeRule","polyfillStringTrim","String","prototype","trim","identifyElement","idPrefix","getObjectLength","elementQueryElements","obj","Object","keys","key","arr","hasOwnProperty","ElementQueries","selectorsToParse","setupCache","initialize","styleSheets","selectors","concat","href","addSelectorsToParseToSetupCache","setupElementQueryElements","match","regex","exec","querySelector","elements","y","z","removeListeners","ElementQueriesInterface","_this","Instance","resetElementQueryElements"],"mappings":"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ACvDA,ADwDA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/*!\n  * domready (c) Dustin Diaz 2012 - License MIT\n  */\n!function (name, definition) {\n  if (typeof module != 'undefined') module.exports = definition()\n  else if (typeof define == 'function' && typeof define.amd == 'object') define('domready',definition)\n  else this[name] = definition()\n}('domready', function (ready) {\n\n  var fns = [], fn, f = false\n    , doc = document\n    , testEl = doc.documentElement\n    , hack = testEl.doScroll\n    , domContentLoaded = 'DOMContentLoaded'\n    , addEventListener = 'addEventListener'\n    , onreadystatechange = 'onreadystatechange'\n    , readyState = 'readyState'\n    , loadedRgx = hack ? /^loaded|^c/ : /^loaded|c/\n    , loaded = loadedRgx.test(doc[readyState])\n\n  function flush(f) {\n    loaded = 1\n    while (f = fns.shift()) f()\n  }\n\n  doc[addEventListener] && doc[addEventListener](domContentLoaded, fn = function () {\n    doc.removeEventListener(domContentLoaded, fn, f)\n    flush()\n  }, f)\n\n\n  hack && doc.attachEvent(onreadystatechange, fn = function () {\n    if (/^c/.test(doc[readyState])) {\n      doc.detachEvent(onreadystatechange, fn)\n      flush()\n    }\n  })\n\n  return (ready = hack ?\n    function (fn) {\n      self != top ?\n        loaded ? fn() : fns.push(fn) :\n        function () {\n          try {\n            testEl.doScroll('left')\n          } catch (e) {\n            return setTimeout(function() { ready(fn) }, 50)\n          }\n          fn()\n        }()\n    } :\n    function (fn) {\n      loaded ? fn() : fns.push(fn)\n    })\n})\n;\n","/**\n * Performance friendly element resize detection (using scroll events)\n *\n * @see (https://github.com/pesla/element-queries/blob/master/src/detect-resize.js)\n * @author Peter Slagter\n * @copyright MIT (https://github.com/pesla/element-queries/blob/master/LICENSE)\n * @preserve\n */\n\ndefine('detect-resize',[],function () {\n\t\"use strict\";\n\n\t/** @type {Object} */\n\tvar attachEvent = document.attachEvent;\n\n\tif (attachEvent) {\n\t\treturn {\n\t\t\t'addListener': addListener,\n\t\t\t'removeListener': removeListener\n\t\t};\n\t}\n\n\t/** @type {Object} */\n\tvar cssAnimationData = {};\n\t/** @type {{}}*/\n\tvar elementQueryData = {};\n\n\tsetup();\n\n\tfunction setup () {\n\t\tcssAnimationData = getCSSAnimationData();\n\n\t\tif (!window.requestAnimationFrame || !window.cancelAnimationFrame) {\n\t\t\tsetupRAF();\n\t\t}\n\n\t\tcreateResizeSensorStyles();\n\t}\n\n\t/**\n\t * Adds a resize listener for given element. IE uses `onresize` event, other browsers use an `onscroll` technique\n\t *\n\t * @see http://www.backalleycoder.com/2013/03/18/cross-browser-event-based-element-resize-detection/\n\t * @param {HTMLElement} element\n\t * @param {Function} callback\n\t */\n\tfunction addListener (element, callback) {\n\t\tif (attachEvent) {\n\t\t\telement.attachEvent('onresize', function () {\n\t\t\t\tcallback.call(element);\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar elementId = element.id;\n\n\t\tif (!elementId) {\n\t\t\tlog('error', 'Element has been passed to addListener but hasnt been identified yet.')\n\t\t\treturn;\n\t\t}\n\n\t\tif (!elementQueryData[elementId]) {\n\t\t\tsetupElementQueryElement(element, callback);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {HTMLElement} element\n\t * @param {Function} callback\n\t */\n\tfunction removeListener (element, callback) {\n\t\tif (attachEvent) {\n\t\t\telement.detachEvent('onresize', callback);\n\t\t\treturn;\n\t\t}\n\n\t\tvar queryData = elementQueryData[element.id];\n\n\t\tif (queryData) {\n\t\t\telement.removeEventListener('scroll', handleOnElementScroll);\n\t\t\telement.removeChild(queryData.triggerElements.container);\n\t\t\tdelete elementQueryData[element.id];\n\t\t}\n\t}\n\n\t/**\n\t * Adds a style block that contains CSS for resize trigger elements\n\t */\n\tfunction createResizeSensorStyles () {\n\t\tvar css = [\n\t\t\t(cssAnimationData.keyframesRule) ? cssAnimationData.keyframesRule : '',\n\t\t\t'.resize-triggers { ' + ((cssAnimationData.styleDeclaration) ? cssAnimationData.styleDeclaration : '') + ' visibility: hidden; opacity: 0; }',\n\t\t\t'.resize-triggers, .resize-triggers > div, .contract-trigger:before { content: \\\" \\\"; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',\n\t\t];\n\n\t\tcss = css.join(' ');\n\n\t\tvar headElem = document.head || document.getElementsByTagName('head')[0],\n\t\t\tstyleElem = document.createElement('style');\n\n\t\tstyleElem.type = 'text/css';\n\n\t\tif (styleElem.styleSheet) {\n\t\t\tstyleElem.styleSheet.cssText = css;\n\t\t} else {\n\t\t\tstyleElem.appendChild(document.createTextNode(css));\n\t\t}\n\n\t\theadElem.appendChild(styleElem);\n\t}\n\n\t/**\n\t * Sets up data and event handlers for a element query element\n\t *\n\t * @param {HTMLElement} element\n\t * @param {Function} callback\n\t */\n\tfunction setupElementQueryElement (element, callback) {\n\t\t// Evaluate it's CSS position\n\t\tvar position = getStyle(element, 'position');\n\n\t\tif (position === 'static') {\n\t\t\telement.style.position = 'relative';\n\t\t}\n\n\t\t// Create and append resize trigger elements\n\t\tvar resizeTrigger = document.createElement('div'),\n\t\t\texpandTrigger = document.createElement('div'),\n\t\t\texpandTriggerChild = document.createElement('div'),\n\t\t\tcontractTrigger = document.createElement('div');\n\n\t\tresizeTrigger.className = 'resize-triggers';\n\t\texpandTrigger.className = 'expand-trigger';\n\t\tcontractTrigger.className = 'contract-trigger';\n\n\t\texpandTrigger.appendChild(expandTriggerChild);\n\t\tresizeTrigger.appendChild(expandTrigger);\n\t\tresizeTrigger.appendChild(contractTrigger);\n\n\t\telement.appendChild(resizeTrigger);\n\n\t\t// Store data about this elementQueryElement\n\t\telementQueryData[element.id] = {\n\t\t\t'targetElement': element,\n\t\t\t'resizeLast': {},\n\t\t\t'callbackFunction': callback,\n\t\t\t'triggerElements': {\n\t\t\t\t'container': resizeTrigger,\n\t\t\t\t'expand': expandTrigger,\n\t\t\t\t'expandChild': expandTriggerChild,\n\t\t\t\t'contract': contractTrigger\n\t\t\t},\n\t\t\t'resizeRAF': null\n\t\t};\n\n\t\telement.addEventListener('scroll', handleOnElementScroll, true);\n\n\t\tif (cssAnimationData.isSupported) {\n\t\t\tresizeTrigger.addEventListener(cssAnimationData.animationStartEvent, function (event) {\n\t\t\t\tif (event.animationName === cssAnimationData.animationName) {\n\t\t\t\t\tresetTriggers(element);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tfunction handleOnElementScroll () {\n\t\tvar element = this,\n\t\t\tqueryData = elementQueryData[element.id];\n\n\t\tresetTriggers(element);\n\n\t\tif (queryData.resizeRAF) {\n\t\t\twindow.cancelAnimationFrame(queryData.resizeRAF);\n\t\t}\n\n\t\tqueryData.resizeRAF = window.requestAnimationFrame( function () {\n\t\t\tvar currentTriggerDimensions = getTriggerDimensions(element),\n\t\t\t\tresizeLast = queryData.resizeLast;\n\n\t\t\tif (currentTriggerDimensions.width != resizeLast.width || currentTriggerDimensions.height != resizeLast.height) {\n\t\t\t\tresizeLast.width = currentTriggerDimensions.width;\n\t\t\t\tresizeLast.height = currentTriggerDimensions.height;\n\t\t\t\tqueryData.callbackFunction.call(element, currentTriggerDimensions.width, currentTriggerDimensions.height);\n\t\t\t}\n\t\t});\n\t\t\n\t}\n\n\t/**\n\t * @param {HTMLElement} element\n\t */\n\tfunction resetTriggers (element){\n\t\tvar elementId = element.id,\n\t\t\texpand = elementQueryData[elementId].triggerElements.expand,\n\t\t\tcontract = elementQueryData[elementId].triggerElements.contract,\n\t\t\texpandChild = elementQueryData[elementId].triggerElements.expandChild;\n\n\t\tcontract.scrollLeft = contract.scrollWidth;\n\t\tcontract.scrollTop = contract.scrollHeight;\n\t\texpandChild.style.width = expand.offsetWidth + 1 + 'px';\n\t\texpandChild.style.height = expand.offsetHeight + 1 + 'px';\n\t\texpand.scrollLeft = expand.scrollWidth;\n\t\texpand.scrollTop = expand.scrollHeight;\n\t}\n\n\t/**\n\t *\n\t * @param {HTMLElement} element\n\t * @returns {{width: number, height: number}}\n\t */\n\tfunction getTriggerDimensions (element) {\n\t\treturn {\n\t\t\t'width': element.offsetWidth,\n\t\t\t'height': element.offsetHeight\n\t\t};\n\t}\n\n/** --- Helper functions --- */\n\n\t/**\n\t * Provides requestAnimationFrame in a cross browser way\n\t * @see https://gist.github.com/mrdoob/838785\n\t */\n\tfunction setupRAF () {\n\t\tif (!window.requestAnimationFrame) {\n\t\t\twindow.requestAnimationFrame = (function () {\n\t\t\t\treturn window.webkitRequestAnimationFrame ||\n\t\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\t\tfunction (callback) {\n\t\t\t\t\t\twindow.setTimeout(callback, 1000 / 60);\n\t\t\t\t\t};\n\t\t\t})();\n\t\t}\n\n\t\tif (!window.cancelAnimationFrame) {\n\t\t\twindow.cancelAnimationFrame = (function () {\n\t\t\t\treturn window.webkitCancelAnimationFrame ||\n\t\t\t\t\twindow.mozCancelAnimationFrame ||\n\t\t\t\t\twindow.oCancelAnimationFrame ||\n\t\t\t\t\twindow.msCancelAnimationFrame ||\n\t\t\t\t\twindow.clearTimeout;\n\t\t\t})();\n\t\t}\n\t}\n\n\t/**\n\t * Test if browser supports CSS animations. If it does, find out which style convention we must follow\n\t *\n\t * @see https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Using_CSS_animations/Detecting_CSS_animation_support\n\t */\n\tfunction getCSSAnimationData () {\n\t\tvar supportsAnimation = false,\n\t\t\tkeyframePrefix = '',\n\t\t\tanimationStartEvent = 'animationstart',\n\t\t\tdomPrefixes = 'Webkit Moz O ms'.split(' '),\n\t\t\tstartEvents = 'webkitAnimationStart animationstart oAnimationStart MSAnimationStart'.split(' ');\n\n\t\t// Test for .animationName property on style object\n\t\tvar elm = document.createElement('div');\n\n\t\tif (elm.style.animationName !== undefined) {\n\t\t\tsupportsAnimation = true;\n\t\t}\n\n\t\t// Test for browser specific animation properties\n\t\tif (supportsAnimation === false) {\n\t\t\tvar i = 0,\n\t\t\t\tl = domPrefixes.length;\n\n\t\t\tfor (; i < l ; i++ ) {\n\t\t\t\tif (elm.style[domPrefixes[i] + 'AnimationName'] !== undefined) {\n\t\t\t\t\tkeyframePrefix = '-' + domPrefixes[i].toLowerCase() + '-';\n\t\t\t\t\tanimationStartEvent = startEvents[i];\n\t\t\t\t\tsupportsAnimation = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!supportsAnimation) {\n\t\t\treturn {\n\t\t\t\t'isSupported': false\n\t\t\t}\n\t\t}\n\n\t\tvar animationName = 'resizeanim';\n\n\t\treturn {\n\t\t\t'isSupported': supportsAnimation,\n\t\t\t'keyframesRule': '@' + keyframePrefix + 'keyframes ' + animationName + ' {from { opacity: 0; } to { opacity: 0; }}',\n\t\t\t'styleDeclaration': keyframePrefix + 'animation: 1ms ' + animationName + ';',\n\t\t\t'animationStartEvent': animationStartEvent,\n\t\t\t'animationName': animationName\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {string} type\n\t * @param {string} message\n\t * @private\n\t */\n\tfunction log (type, message) {\n\t\tif (console) {\n\t\t\tconsole[type](message);\n\t\t}\n\t}\n\n\t/**\n\t *\n\t * @param {HTMLElement} element\n\t * @param {string} property\n\t * @returns {null|string}\n\t */\n\tfunction getStyle(element, property)\n\t{\n\t\tvar value = null;\n\n\t\tif (element.currentStyle) {\n\t\t\tvalue = element.currentStyle[property];\n\t\t} else if (window.getComputedStyle) {\n\t\t\tvalue = document.defaultView.getComputedStyle(element,null).getPropertyValue(property);\n\t\t}\n\n\t\treturn value;\n\t}\n\n\treturn {\n\t\t'addListener': addListener,\n\t\t'removeListener': removeListener\n\t};\n});\n","/**\n * Element Queries is a tiny library that adds support for element based media-queries to all new browsers (incl. IE7+).\n *\n * @see (https://github.com/pesla/element-queries/blob/master/src/element-queries.js)\n * @author Peter Slagter\n * @copyright MIT (https://github.com/pesla/element-queries/blob/master/LICENSE)\n * @preserve\n */\n\ndefine('src/element-queries',['domready', 'detect-resize'],\n\n\t/**\n\t * @param domReady\n\t * @param ResizeDetection\n\t * @returns {ElementQueriesInterface}\n\t */\n\tfunction (domReady, ResizeDetection) {\n\t\t'use strict';\n\n\t\t/**\n\t\t * @var elementQueryElements Contains a reference to all instances of ElementQueryElement\n\t\t * @type {{}}\n\t\t */\n\t\tvar elementQueryElements = {};\n\n\t\t/**\n\t\t * @constructor\n\t\t */\n\t\tvar ElementQueries = function () {\n\t\t\t/**\n\t\t\t * @var selectorsToParse Contains all CSS selectors that need to be parsed and stored in the setup cache\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tthis.selectorsToParse = [];\n\n\t\t\t/**\n\t\t\t * @var setupCache Contains setup information for all elements that need to be setup for element queries\n\t\t\t * @type {Array}\n\t\t\t */\n\t\t\tthis.setupCache = [];\n\n\t\t\tthis.initialize();\n\t\t};\n\n\t\t/**\n\t\t * Initialize element queries:\n\t\t * 1. Read all CSSRules and grab selectors that match [min|max]-[width|height]\n\t\t * 2. Filter out invalid selectors and break them into usable pieces\n\t\t * 3. Setup an ElementQueryElement for each entry in setupCache\n\t\t */\n\t\tElementQueries.prototype.initialize = function () {\n\t\t\tif (!ResizeDetection) {\n\t\t\t\tlog('error', 'ElementQueryElements need some sort of element resize detection. `ResizeDetection` seems to be unavailable.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (typeof document.querySelectorAll !== 'function') {\n\t\t\t\tpolyfillQuerySelectorAll();\n\t\t\t}\n\n\t\t\tif (typeof String.prototype.trim !== 'function') {\n\t\t\t\tpolyfillStringTrim();\n\t\t\t}\n\n\t\t\tvar i = 0;\n\t\t\tvar j = document.styleSheets.length;\n\n\t\t\tfor (; i < j; i++) {\n\t\t\t\t// Try-Catch to work around cross-domain issues\n\t\t\t\ttry {\n\t\t\t\t\tvar selectors = getElementQuerySelectors(document.styleSheets[i].cssText || document.styleSheets[i].cssRules || document.styleSheets[i].rules);\n\n\t\t\t\t\tif (selectors.length > 0) {\n\t\t\t\t\t\tthis.selectorsToParse = this.selectorsToParse.concat(selectors);\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlog('error', 'Unable to read from file: ' + document.styleSheets[i].href);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.selectorsToParse.length < 1) {\n\t\t\t\tlog('info', 'No selectors found to initialize.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.addSelectorsToParseToSetupCache();\n\t\t\tthis.setupElementQueryElements();\n\n\t\t\tfor (var key in elementQueryElements) {\n\t\t\t\tif (!elementQueryElements.hasOwnProperty(key)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar element = elementQueryElements[key].element;\n\n\t\t\t\telementQueryElements[key].callback.call(element);\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Filter out invalid selectors, cut selector in usable parts and store the parts in setupCache\n\t\t */\n\t\tElementQueries.prototype.addSelectorsToParseToSetupCache = function () {\n\t\t\tvar i = 0;\n\t\t\tvar j = this.selectorsToParse.length;\n\n\t\t\tfor (; i < j; i++) {\n\t\t\t\tvar selector = this.selectorsToParse[i];\n\t\t\t\tvar regex = /,?([^,\\n]*)\\[[\\s\\t]*(min|max)-(width|height)[\\s\\t]*[~$\\^]?=[\\s\\t]*\"([^\"]*)\"[\\s\\t]*]([^\\n\\s\\{]*)/mgi;\n\t\t\t\tvar match;\n\n\t\t\t\tselector = selector.replace(/'/g, '\"');\n\n\t\t\t\twhile ((match = regex.exec(selector)) !== null) {\n\t\t\t\t\tif (match.length > 5) {\n\t\t\t\t\t\tvar querySelector = match[1].trim();\n\n\t\t\t\t\t\tif (match[5] !== '') {\n\t\t\t\t\t\t\tquerySelector = match[5].trim();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.setupCache.push([querySelector, match[2], match[3], match[4]]);\n\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tlog('info', \"Didn't find all necessary parts for selector \" + selector);\n\t\t\t\t\tlog('info', match);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Query selectors in setupCache and create an instance of ElementQueryElement for each actual DOM element\n\t\t */\n\t\tElementQueries.prototype.setupElementQueryElements = function () {\n\t\t\tvar i = 0;\n\t\t\tvar l = this.setupCache.length;\n\n\t\t\tfor (; i < l; i++) {\n\t\t\t\tvar queryData = this.setupCache[i];\n\t\t\t\tvar selector = queryData[0];\n\n\t\t\t\ttry {\n\t\t\t\t\tvar elements = document.querySelectorAll(selector);\n\n\t\t\t\t\tif (!elements || elements.length < 1) {\n\t\t\t\t\t\tlog('info', 'No elements found for selector ' + selector);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar y = 0;\n\t\t\t\t\tvar z = elements.length;\n\n\t\t\t\t\tfor (; y < z; y++) {\n\t\t\t\t\t\tvar element = elements[y];\n\t\t\t\t\t\tvar elementId = identifyElement(element);\n\n\t\t\t\t\t\tif (!elementQueryElements[elementId]) {\n\t\t\t\t\t\t\telementQueryElements[elementId] = new ElementQueryElement(element);\n\t\t\t\t\t\t\tResizeDetection.addListener(element, elementQueryElements[elementId].callback);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\telementQueryElements[elementId].addElementQuery({\n\t\t\t\t\t\t\tmode: queryData[1],\n\t\t\t\t\t\t\tproperty: queryData[2],\n\t\t\t\t\t\t\tvalue: queryData[3]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlog('error', 'Unable to perform querySelectorAll for selector: ' + selector);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log('foo');\n\t\t};\n\n\t\tElementQueries.prototype.removeListeners = function () {\n\t\t\tfor (var elementId in elementQueryElements) {\n\t\t\t\tif (!elementQueryElements.hasOwnProperty(elementId)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tResizeDetection.removeListener(elementQueryElements[elementId].element, elementQueryElements[elementId].callback);\n\t\t\t}\n\n\t\t\telementQueryElements = {};\n\t\t};\n\n/** --- Factory for ElementQuery Elements --- */\n\n\t\t/**\n\t\t *\n\t\t * @param {HTMLElement} element\n\t\t * @constructor\n\t\t */\n\t\tfunction ElementQueryElement (element) {\n\t\t\tthis.element = element;\n\t\t\tthis.queries = [];\n\n\t\t\tthis.addElementQuery = function (queryData) {\n\t\t\t\tthis.queries.push(queryData);\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Callback function passed to the resize listener\n\t\t\t */\n\t\t\tthis.callback = function (currentWidth, currentHeight) {\n\t\t\t\tvar element = this;\n\t\t\t\tvar ElementQueryElement = getElementQueryElementById(element.id);\n\n\t\t\t\tif (ElementQueryElement === null) {\n\t\t\t\t\tlog('error', 'There is no instance of ElementQueryElement for element id ' + element.id);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar l = ElementQueryElement.queries.length;\n\t\t\t\tvar attrValues = {};\n\n\t\t\t\tcurrentWidth = currentWidth || element.offsetWidth;\n\t\t\t\tcurrentHeight = currentHeight || element.offsetHeight;\n\n\n\t\t\t\tfor (var i = 0; i < l; i++) {\n\t\t\t\t\tvar query = ElementQueryElement.queries[i];\n\t\t\t\t\tvar currentValueForQuery = (query.property === 'width') ? currentWidth : currentHeight;\n\t\t\t\t\tvar attrName = query.mode + '-' + query.property;\n\t\t\t\t\tvar value = parseFloat(query.value);\n\t\t\t\t\tvar attrValue = '';\n\n\t\t\t\t\tif (query.mode === 'min' && currentValueForQuery >= value) {\n\t\t\t\t\t\tattrValue = query.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (query.mode === 'max' && currentValueForQuery <= value) {\n\t\t\t\t\t\tattrValue = query.value;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (attrValue) {\n\t\t\t\t\t\tif (!attrValues[attrName]) {\n\t\t\t\t\t\t\tattrValues[attrName] = [];\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar str = attrValues[attrName].join(' ');\n\n\t\t\t\t\t\tif (str.indexOf(attrValue) !== -1) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tattrValues[attrName].push(attrValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tvar allAttributes = ['min-width', 'min-height', 'max-width', 'max-height'];\n\t\t\t\ti = 0;\n\t\t\t\tl = allAttributes.length;\n\n\t\t\t\tfor (; i < l; i++) {\n\t\t\t\t\tif (attrValues[allAttributes[i]]) {\n\t\t\t\t\t\telement.setAttribute(allAttributes[i], attrValues[allAttributes[i]].join(' '));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\telement.removeAttribute(allAttributes[i]);\n\t\t\t\t}\n\t\t\t};\n\n\t\t}\n\n/** --- Helper functions --- */\n\n\t\t/**\n\t\t * Read all CSSRules and grab the ones that match [min|max]-[width|height]\n\t\t *\n\t\t * @param {String|Array} rules\n\t\t * @param {Array} tmpSelectors\n\t\t * @returns {Array}\n\t\t */\n\t\tfunction getElementQuerySelectors (rules, tmpSelectors) {\n\t\t\tif (rules === null) {\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tif ('string' === typeof rules) {\n\t\t\t\tvar selector = rules.toLowerCase();\n\n\t\t\t\tif (isElementQuerySelector(selector)) {\n\t\t\t\t\treturn [rules];\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\tif (!tmpSelectors) {\n\t\t\t\tvar tmpSelectors = [];\n\t\t\t}\n\n\t\t\tvar i = 0,\n\t\t\t\tj = rules.length;\n\n\t\t\tfor (; i < j; i++) {\n\t\t\t\t// Check for CSSRule type 1 (CSSStyleRule) or 4 (CSSMediaRule)\n\t\t\t\t// @see https://developer.mozilla.org/en-US/docs/Web/API/CSSRule\n\t\t\t\tif (rules[i].type === 1) {\n\t\t\t\t\tselector = rules[i].selectorText || rules[i].cssText;\n\n\t\t\t\t\tif (isElementQuerySelector(selector)) {\n\t\t\t\t\t\ttmpSelectors.push(selector);\n\t\t\t\t\t}\n\t\t\t\t} else if (4 === rules[i].type) {\n\t\t\t\t\t// Inside media query, read the rules it contains\n\t\t\t\t\tgetElementQuerySelectors(rules[i].cssRules || rules[i].rules, tmpSelectors);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn tmpSelectors;\n\t\t}\n\n\t\t/**\n\t\t * Included IE7+ QSA polyfill\n\t\t * @see https://gist.github.com/connrs/2724353\n\t\t * @see https://gist.github.com/chrisjlee/8960575\n\t\t */\n\t\tfunction polyfillQuerySelectorAll () {\n\t\t\tvar styleSheet = document.createStyleSheet();\n\n\t\t\tdocument.querySelectorAll = function (selector) {\n\t\t\t\tselector = selector.replace(/\\[for\\b/gi, '[htmlFor').split(',');\n\n\t\t\t\tvar found = [];\n\t\t\t\tvar docAll = document.all;\n\n\t\t\t\tfor (var i = selector.length; i--;) {\n\t\t\t\t\tstyleSheet.addRule(selector[i], 'k:v');\n\n\t\t\t\t\tfor (var j = docAll.length; j--;) {\n\t\t\t\t\t\tdocAll[j].currentStyle.k && found.push(docAll[j]);\n\t\t\t\t\t}\n\t\t\t\t\tstyleSheet.removeRule(0);\n\t\t\t\t}\n\n\t\t\t\treturn found;\n\t\t\t};\n\t\t}\n\n\t\tfunction polyfillStringTrim () {\n\t\t\tString.prototype.trim = function () {\n\t\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t\t\t};\n\t\t}\n\n\t\t/**\n\t\t * @param {string} selector\n\t\t * @returns {boolean}\n\t\t */\n\t\tfunction isElementQuerySelector (selector) {\n\t\t\treturn (\n\t\t\t\tselector.indexOf('min-height') !== -1\n\t\t\t\t|| selector.indexOf('max-height') !== -1\n\t\t\t\t|| selector.indexOf('min-width') !== -1\n\t\t\t\t|| selector.indexOf('max-width') !== -1\n\t\t\t);\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t * @param {HTMLElement} element\n\t\t * @returns {string}\n\t\t */\n\t\tfunction identifyElement (element) {\n\t\t\tvar id = element.id;\n\n\t\t\tif (id) {\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t\tvar idPrefix = 'element-query-element-';\n\t\t\tid = idPrefix + getObjectLength(elementQueryElements);\n\n\t\t\telement.id = id;\n\n\t\t\treturn id;\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t * @param {string} id\n\t\t * @returns {ElementQueryElement}\n\t\t */\n\t\tfunction getElementQueryElementById (id) {\n\t\t\tif (!elementQueryElements[id]) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn elementQueryElements[id];\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t * @param {Object} obj\n\t\t * @returns {Number}\n\t\t */\n\t\tfunction getObjectLength (obj) {\n\t\t\tif (!Object.keys) {\n\t\t\t\tObject.keys = function (obj) {\n\t\t\t\t\tvar arr = [];\n\t\t\t\t\tvar key;\n\n\t\t\t\t\tfor (key in obj) {\n\t\t\t\t\t\tif (obj.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tarr.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn arr;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn Object.keys(obj).length;\n\t\t}\n\n\t\t/**\n\t\t *\n\t\t * @param {string} type\n\t\t * @param {string} message\n\t\t * @private\n\t\t */\n\t\tfunction log (type, message) {\n\t\t\tif (console) {\n\t\t\t\tconsole[type](message);\n\t\t\t}\n\t\t}\n\n/** --- Public Interface --- */\n\n\t\t/**\n\t\t * @constructor\n\t\t */\n\t\tvar ElementQueriesInterface = function () {\n\t\t\tvar _this = this;\n\n\t\t\tdomReady(function () {\n\t\t\t\t_this.Instance = new ElementQueries();\n\t\t\t});\n\t\t};\n\n\t\tElementQueriesInterface.prototype.resetElementQueryElements = function () {\n\t\t\tthis.Instance.removeListeners();\n\t\t\tthis.Instance.setupElementQueryElements();\n\t\t};\n\n\t\treturn new ElementQueriesInterface();\n\t}\n);\n"]}