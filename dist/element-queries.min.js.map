{"version":3,"file":"element-queries.min.js","sources":["../src/detect-resize.js","../src/element-queries.js"],"names":["define","setup","cssAnimationData","getCSSAnimationData","window","requestAnimationFrame","cancelAnimationFrame","setupRAF","createResizeSensorStyles","addListener","element","callback","attachEvent","call","elementId","id","elementQueryData","setupElementQueryElement","log","removeListener","detachEvent","queryData","removeEventListener","handleOnElementScroll","removeChild","triggerElements","container","css","keyframesRule","styleDeclaration","join","headElem","document","head","getElementsByTagName","styleElem","createElement","type","styleSheet","cssText","appendChild","createTextNode","position","getStyle","style","resizeTrigger","expandTrigger","expandTriggerChild","contractTrigger","className","targetElement","resizeLast","callbackFunction","expand","expandChild","contract","resizeRAF","addEventListener","isSupported","animationStartEvent","event","animationName","resetTriggers","this","currentTriggerDimensions","getTriggerDimensions","width","height","scrollLeft","scrollWidth","scrollTop","scrollHeight","offsetWidth","offsetHeight","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","supportsAnimation","keyframePrefix","domPrefixes","split","startEvents","elm","undefined","i","l","length","toLowerCase","message","console","property","value","currentStyle","getComputedStyle","defaultView","getPropertyValue","require","domReady","ResizeDetection","initializeElementQueries","querySelectorAll","polyfillQuerySelectorAll","String","prototype","trim","polyfillStringTrim","j","styleSheets","selectors","getElementQuerySelectors","cssRules","rules","selectorsToParse","concat","e","href","addSelectorsToParseToSetupCache","setupElementQueryElements","key","elementQueryElements","hasOwnProperty","tmpSelectors","selector","isElementQuerySelector","selectorText","push","match","regex","replace","exec","querySelector","setupCache","elements","y","z","identifyElement","ElementQueryElement","addElementQuery","mode","queries","currentWidth","currentHeight","getElementQueryElementById","attrValues","query","currentValueForQuery","attrName","parseFloat","attrValue","allAttributes","setAttribute","removeAttribute","createStyleSheet","found","docAll","all","addRule","k","removeRule","indexOf","idPrefix","getObjectLength","obj","Object","keys","arr"],"mappings":"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"}